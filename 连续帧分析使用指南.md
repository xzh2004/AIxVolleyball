# 🎬 连续帧分析使用指南

## 🎯 什么是连续帧分析？

连续帧分析是 v2.0 版本的核心新功能，相比单帧分析，它能：

✅ **分析整个动作过程**，而非单个瞬间  
✅ **评估动作流畅度**，发现卡顿和不连贯  
✅ **检测动作完整性**，确保全过程清晰  
✅ **计算动作一致性**，评估左右对称性  
✅ **可视化运动轨迹**，直观看到关键点移动路径  
✅ **生成角度时间轴**，追踪角度变化趋势  

---

## 🆚 单帧 vs 连续帧对比

### 单帧模式（快速）
```
📹 视频 → 提取1帧 → 姿态识别 → 评分
     ↓
   结果: 静态姿态评分
```

**优点**: 速度快（3-5秒），适合快速测试  
**缺点**: 只看瞬间，无法评估动作过程

### 连续帧模式（推荐）
```
📹 视频 → 提取N帧 → 逐帧识别 → 轨迹分析 → 综合评分
     ↓
   结果: 静态姿态 + 动态质量
```

**优点**: 全面准确，能发现更多问题  
**缺点**: 处理时间稍长（10-20秒）

---

## 🎮 如何使用连续帧分析

### 第1步：选择分析模式

上传视频后，在"分析模式"下拉框中选择：

```
🎬 连续帧分析（推荐）
```

### 第2步：点击开始分析

系统会自动：
1. 提取视频帧（每秒2帧）
2. 分析每一帧的姿态
3. 计算轨迹和流畅度
4. 生成综合报告

### 第3步：查看分析结果

#### 📊 综合得分
```
综合得分 = 姿态质量(60%) + 动作质量(40%)
```

- **姿态质量**: 手臂、重心、位置、稳定性
- **动作质量**: 流畅度、完整性、一致性

#### 📈 详细评分表

**姿态质量 (60%)**
| 维度 | 分值 | 说明 |
|------|------|------|
| 手臂 | /40 | 双臂角度和间距 |
| 重心 | /30 | 膝盖弯曲和髋部高度 |
| 位置 | /20 | 触球位置高度 |
| 稳定 | /10 | 识别置信度 |

**动作质量 (40%)**
| 维度 | 分值 | 说明 |
|------|------|------|
| 流畅度 | /100 | 动作是否平滑连贯 |
| 完整性 | /100 | 是否全程清晰可见 |
| 一致性 | /100 | 左右是否对称稳定 |

#### 🖼️ 最佳姿态展示

系统自动选择最标准的一帧展示：
- 左侧：原始画面
- 右侧：骨架叠加

#### 🎯 动作轨迹分析

**2D轨迹图**
- 红色线：右手腕轨迹
- 蓝色线：左手腕轨迹
- 绿点：起点
- 红点：终点
- 颜色渐变：表示时间流逝

**解读技巧**：
- ✅ 轨迹平滑：动作流畅
- ❌ 轨迹曲折：动作不稳定
- ✅ 左右对称：动作一致
- ❌ 左右偏差大：需要纠正

#### 📈 角度变化时间轴

**手臂角度图**
- 蓝线：左臂角度
- 红线：右臂角度
- 绿虚线：标准角度(165°)

**解读技巧**：
- ✅ 接近绿线：角度标准
- ✅ 蓝红接近：左右对称
- ❌ 波动大：动作不稳定

**膝盖角度图**
- 蓝线：左膝角度
- 红线：右膝角度
- 绿虚线：标准角度(75°)

---

## 💡 如何提高连续帧分析得分

### 1️⃣ 提升流畅度

**问题表现**：
- 流畅度 < 60分
- 反馈："动作不够流畅"

**改进方法**：
- ✅ 放慢速度，保持匀速
- ✅ 避免突然加速或减速
- ✅ 动作过渡要自然
- ✅ 多练习基本功，培养肌肉记忆

### 2️⃣ 提升完整性

**问题表现**：
- 完整性 < 60分
- 反馈："部分帧识别不清晰"

**改进方法**：
- ✅ 确保全程全身入镜
- ✅ 避免身体部位超出画面
- ✅ 保持光线充足
- ✅ 背景简洁，减少干扰

### 3️⃣ 提升一致性

**问题表现**：
- 一致性 < 60分
- 反馈："动作不够稳定"

**改进方法**：
- ✅ 注意左右手对称
- ✅ 保持身体平衡
- ✅ 避免单侧用力过猛
- ✅ 对着镜子练习，自查对称性

---

## 🎯 实战案例分析

### 案例1：优秀动作（综合85分）

```
姿态质量: 88分
- 手臂: 38/40 ✅
- 重心: 27/30 ✅
- 位置: 18/20 ✅
- 稳定: 9/10 ✅

动作质量: 82分
- 流畅度: 85/100 ✅
- 完整性: 90/100 ✅
- 一致性: 80/100 ✅

轨迹特点:
✅ 双手轨迹平滑
✅ 左右对称性好
✅ 角度变化稳定
```

### 案例2：需要改进（综合62分）

```
姿态质量: 65分
- 手臂: 30/40 ⚠️ (弯曲过多)
- 重心: 20/30 ⚠️ (重心过高)
- 位置: 12/20 ⚠️ (触球位置偏高)
- 稳定: 8/10 ✅

动作质量: 58分
- 流畅度: 52/100 ❌ (卡顿明显)
- 完整性: 75/100 ⚠️
- 一致性: 60/100 ⚠️ (左右不对称)

轨迹特点:
❌ 双手轨迹曲折
❌ 左右偏差大
❌ 角度波动明显

改进建议:
1. 放慢速度，注意流畅性
2. 纠正手臂角度，保持伸直
3. 降低重心，膝盖适当弯曲
4. 练习对称性
```

---

## 📋 常见问题

### Q1: 为什么连续帧分析比单帧慢？
**A**: 因为要处理多帧（通常10-20帧），每帧都要做姿态识别和分析，但能获得更全面的评估。

### Q2: 连续帧分析需要多长的视频？
**A**: 建议3-8秒，太短（<3秒）可能无法完整展示动作，太长（>10秒）处理时间较长。

### Q3: 流畅度分数很低怎么办？
**A**: 
1. 检查视频是否抖动（使用三脚架）
2. 放慢动作速度，保持匀速
3. 多练习，培养肌肉记忆

### Q4: 轨迹图看不懂？
**A**: 重点看三点：
1. 线条是否平滑（不要曲折）
2. 左右是否对称（红蓝线接近）
3. 运动幅度是否合理

### Q5: 为什么有些帧识别不到？
**A**: 可能原因：
- 身体部位被遮挡
- 超出画面范围
- 光线不足
- 背景干扰

**解决方法**：
- 确保全身入镜
- 改善拍摄环境
- 使用纯色背景

---

## 🏆 进阶技巧

### 技巧1：对比不同次数的轨迹

录制多个视频，对比轨迹变化：
- 看改进前后的差异
- 发现稳定提升的部分
- 找到需要重点练习的地方

### 技巧2：慢动作拍摄

如果手机支持，使用慢动作模式：
- 能提取更多帧
- 分析更细致
- 发现微小问题

### 技巧3：分阶段练习

将动作分成3个阶段分别练习：
1. 准备阶段：重心下沉
2. 触球阶段：手臂接触
3. 随动阶段：保持平衡

每个阶段单独录制分析，再练习连贯动作。

---

## 🎓 总结

连续帧分析是评估动作质量的强大工具：

✅ **更全面** - 不只看瞬间，看整个过程  
✅ **更准确** - 多维度评估，发现更多问题  
✅ **更直观** - 轨迹和图表，一目了然  
✅ **更专业** - 接近教练级别的分析深度  

**建议**：
- 日常训练：使用连续帧模式
- 快速测试：使用单帧模式
- 对比分析：两种模式结合使用

祝你训练顺利，早日成为排球高手！🏐✨

